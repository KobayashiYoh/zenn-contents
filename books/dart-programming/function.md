---
title: "関数"
---

## 関数とは
ここまで、コードは全てmain関数の中に書いてきました。
しかし、実際のアプリ開発の現場で書かれているコードの量は膨大で、全ての処理をmain関数の中に書いていると、main関数の中身が100行、200行、300行…と膨れ上がってしまいます。
これだとどこにどんな処理が書いてあるのか探すのが大変ですね。
そこで活躍するのが`関数`です。
関数を使うと、コードの中の処理を1つのまとまりとして分割することができます。
これにより、コードの肥大化を防ぐことができるのです。

## 関数を定義
変数と同じく、関数も使う前に定義をする必要があります。
基本的に、関数の定義は以下のように行います。
```dart
型 関数名(引数) {
  // 関数の処理
}
```
関数名も変数名と同じく自由に命名することができます。ただし、その関数を他の人が見てもどんな処理を行う関数なのか一目でわかるような関数名をつけましょう。また、関数名も変数名と同じく`lowerCase`で命名します。
型と引数に関しては後ほど詳しく解説します。
関数の具体的な例として、コンソールに`Hello, world!`と出力する関数greetを定義しました。では、さっそく関数greetを書いて実行してみましょう。
```dart
void greet() {
  print('Hello, world!');
}
```
- 実行結果
    
    ```dart
    
    ```
あれ？おかしいですね。print文を含む関数greetを定義したはずなのに、実行結果に何も表示されません。
なぜでしょうか？
実は、関数は定義しただけだと実行されません。定義した関数を呼び出す必要があるのです。

## 関数の呼び出し
定義した関数を呼び出すことにより、その関数の処理を実行することができます。
関数を呼び出すには、以下のように記述する必要があります。
```dart
関数名();
```
では、実際に関数の呼び出しを行ってみましょう。
以下は、main関数からgreet関数を呼び出す処理です。

```dart
void greet() {
  print('Hello, world!');
}

void main() {
  greet();
}
```

- 実行結果
    ```
    Hello, world!
    ```
このように、関数の処理を実行するには、定義した関数を呼び出す必要があります。
繰り返しにはなりますが、関数は定義しただけでは実行されません。

## 関数の引数
関数には、値を渡すことができます。
この関数に渡す値のことを引数といいます。
引数を持つ関数は以下のように書くことができます。

```dart
// String型の引数nameの値をprint文で表示する。
void greet(String name) {
  print('Hello, $name!');
}

void main() {
　　 // 関数greetに文字列tamaを渡す。
  greet('tama');
}
```

- 実行結果
    ```
    Hello, tama!
    ```
まず、関数の定義関してですが、greet関数はString型の引数nameがあります。
greet関数が受け取ったString型の値は、この引数nameに格納され、greet関数内で使用することができます。
一方で、greet関数の呼び出しを行なっているmain関数についてですが、ただ関数を呼び出すのではなく、`()`の中にgreet関数に渡す値が書かれています。
このように、引数を持った関数では、関数の定義の際に`()`内に引数の型と名前を、呼び出しの際に渡したい値を書くことにより、関数への値渡しを実現しています。
引数は、1つの関数に複数用意することができます。

```dart
void greet(String name, int age) {
  print('$nameさん$age歳');
}

void main() {
  greet('tama', 7);
}
```
- 実行結果
    
    ```
    tamaさん7歳
    ```
このように、関数の定義においても、関数の呼び出しにおいても、引数と引数を`,`で区切ることにより、複数の引数を定義することができます。

## 関数の返り値
関数は「返り値」という値を返すことができます（戻り値とも呼ばれています）。
返り値を返したい場合、関数名の前に返り値の型を指定し、return文の後ろに返す値を書く必要があります。
```dart
型 関数名(引数) {
  // 関数の処理
  return 返り値;
}
```
それでは、返り値を持つ関数のサンプルコードを見てみましょう。

```dart
// 引数aとbの和をint型の返り値として返す関数
int add(int a, int b) {
	// aとbの和をreturn文で返す
  return a + b;
}

void main() {
	// 関数addの返り値をint型の変数sumに代入
	int sum = add(1, 1);
	print(sum);
}
```

- 実行結果
    
    ```
    2
    ```
    
このサンプルコードでは、int型の返り値を持つ関数addを定義しています。int型の引数aとbを足し合わせた結果をreturn文で返すという処理を行う関数です。return文で返す値がint型なので、関数名の前につける型はint型で一致させる必要があります。
